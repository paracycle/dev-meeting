{% assign m = include.meeting %}
<a href="{{ m.url | relative_url }}"
   class="group block bg-[var(--bg-default)] border border-[var(--border-default)] rounded-lg p-4 md:p-5 no-underline hover:border-ruby-500 hover:shadow-md transition-all">
  <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2">
    <div class="flex-1 min-w-0">
      <h3 class="text-lg font-bold text-[var(--text-default)] group-hover:text-ruby-600 dark:group-hover:text-ruby-400 transition-colors">
        {{ m.title }}
      </h3>
      {% if m.summary_html and m.summary_html != "" %}
      <p class="text-sm text-[var(--text-subtle)] mt-1 line-clamp-2 [&_code]:bg-[var(--code-bg)] [&_code]:px-1 [&_code]:py-0.5 [&_code]:rounded [&_code]:text-xs [&_code]:font-mono [&_a]:text-[var(--text-link)]">
        {{ m.summary_html }}
      </p>
      {% endif %}
    </div>
    <div class="flex items-center gap-3 text-sm text-[var(--text-subtle)] flex-shrink-0">
      {% if m.date_formatted %}
      <span class="flex items-center gap-1">
        <span class="material-symbols-rounded text-base">calendar_today</span>
        {{ m.date_formatted }}
      </span>
      {% endif %}
      {% if m.ticket_count > 0 %}
      <span class="flex items-center gap-1 bg-[var(--bg-subtle)] px-2 py-0.5 rounded-full text-xs font-medium">
        {{ m.ticket_count }} ticket{% if m.ticket_count != 1 %}s{% endif %}
      </span>
      {% endif %}
      {% if m.lang == "ja" %}
      <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200">
        日本語
      </span>
      {% endif %}
    </div>
  </div>
</a>
